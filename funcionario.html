<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Cadastrar Funcionário - Sistema Lanhouse</title>
        <link rel="stylesheet" href="./css/cadastro/funcionario.css" />
    </head>
    <body>
        <header class="navbar">
            <div class="logo">
                <a href="./index.html">
                    <img src="./images/LogoSimplificada_cropped.png" alt="" />
                </a>
            </div>
            <nav class="nav-buttons">
                <ul>
                    <li><a href="./home.html">Home</a></li>
                    <li><a href="#">Cadastros</a></li>
                </ul>
            </nav>
            <div class="account-panel">
                <div class="profile-pic">
                    <img src="./images/userProfilePic.jpg" alt="" />
                </div>
                <div class="panel-text">
                    <span class="username">Usuário</span>
                    <a href="./login.html" class="sair">Sair</a>
                </div>
            </div>
        </header>
        <main>
            <div class="container">
                <h1 class="form-title">Cadastro de Funcionário</h1>
                <form class="cadastro-form">
                    <div class="input-fields">
                        <div class="form-group">
                            <div class="input">
                                <label class="input-label" for="nome"
                                    >Nome</label
                                >
                                <input
                                    class="textbox"
                                    type="text"
                                    id="nome"
                                    name="nome"
                                />
                            </div>
                            <div class="input">
                                <label for="sobrenome" class="input-label"
                                    >Sobrenome</label
                                >
                                <input
                                    class="textbox"
                                    type="text"
                                    id="sobrenome"
                                    name="sobrenome"
                                />
                            </div>
                            <div class="input">
                                <label
                                    for="data-nascimento"
                                    class="input-label"
                                    for=""
                                    >Data de Nascimento</label
                                >
                                <input
                                    class="textbox"
                                    type="date"
                                    id="data-nascimento"
                                    name="data-nascimento"
                                />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input">
                                <label for="email" class="input-label"
                                    >E-mail</label
                                >
                                <input
                                    class="textbox"
                                    type="email"
                                    id="email"
                                    name="email"
                                />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input">
                                <label for="cargo" class="input-label"
                                    >Cargo</label
                                >
                                <input
                                    class="textbox"
                                    type="text"
                                    id="cargo"
                                    name="cargo"
                                />
                            </div>
                            <div class="input">
                                <label for="salario" class="input-label"
                                    >Salário</label
                                >
                                <input
                                    class="textbox"
                                    type="text"
                                    id="salario"
                                    name="salario"
                                />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input">
                                <label for="senha" class="input-label"
                                    >Senha</label
                                >
                                <input
                                    class="textbox"
                                    type="password"
                                    id="senha"
                                    name="senha"
                                />
                            </div>
                            <div class="input">
                                <label for="confirmSenha" class="input-label"
                                    >Confirmar senha</label
                                >
                                <input
                                    class="textbox"
                                    type="password"
                                    id="confirmSenha"
                                />
                            </div>
                        </div>
                    </div>
                    <button
                        type="button"
                        class="primary-button"
                        onclick="location.href = './home.html'"
                    >
                        Entrar
                    </button>
                </form>
            </div>
        </main>
        <script>
            function allowOnlyCurrency(e) {
                const key = e.key;
                const inputField = e.target;
                const currentValue = inputField.value;

                // Permitir botões Tab e Apagar
                if (key === 'Backspace' || key === 'Tab') {
                    return;
                }

                // BLOQUEAR digitar se já estiver completo o formato de salário
                // REGEX: essa expressão verifica se o valor digitado termina com uma virgula (ou ponto) e duas casas decimais
                // Se quiser entender mais, pergunte ao ChatGPT "Me explique o REGEX /[,.]\d{2}$/g"
                if (/[,.]\d{2}$/g.test(currentValue)) {
                    e.preventDefault();
                    return;
                }

                // Permitir uma virgula ou ponto se não já estiver presente
                if (key === ',' || key === '.') {
                    const temPonto = currentValue.includes('.');
                    const temVirgula = currentValue.includes(',');
                    if (!temPonto && !temVirgula) {
                        return;
                    }
                }

                // Permitir números
                if (!isNaN(key)) {
                    return;
                }

                e.preventDefault();
            }
            document
                .getElementById('salario')
                .addEventListener('keypress', allowOnlyCurrency);
        </script>
    </body>
</html>

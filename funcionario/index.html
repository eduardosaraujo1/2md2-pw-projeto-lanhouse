<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Cadastrar Funcionário - Sistema Lanhouse</title>
        <link rel="stylesheet" href="./style.css" />
    </head>
    <body>
        <div class="container">
            <header>
                <nav>
                    <ul>
                        <li><a href="#">Cadastros</a></li>
                        <li><a href="#">Login</a></li>
                    </ul>
                </nav>
            </header>
            <main>
                <form class="cadastro-form">
                    <h1>Cadastro de Funcionário</h1>
                    <br />
                    <div class="form-group">
                        <input
                            type="text"
                            id="nome"
                            name="nome"
                            placeholder="Nome"
                        /><br />
                        <input
                            type="text"
                            id="sobrenome"
                            name="sobrenome"
                            placeholder="Sobrenome"
                        />
                        <input
                            type="date"
                            id="data-nascimento"
                            name="data-nascimento"
                            placeholder="Data De Nascimento"
                        />
                    </div>
                    <div class="form-group">
                        <input
                            type="text"
                            id="cargo"
                            name="cargo"
                            placeholder="Cargo"
                        />
                        <input
                            type="text"
                            id="salario"
                            name="salario"
                            placeholder="Salário"
                        />
                    </div>
                    <div class="form-group">
                        <input
                            type="password"
                            id="senha"
                            name="senha"
                            placeholder="Senha"
                        />
                        <input
                            type="password"
                            id="confirmar-senha"
                            name="confirmar-senha"
                            placeholder="Confirmar Senha"
                        />
                    </div>
                    <button type="submit">Entrar</button>
                </form>
            </main>
        </div>
        <script>
            function permitirKeyPressApenasMoeda(e) {
                const key = e.key;
                const inputField = e.target;
                const currentValue = inputField.value;

                // Permitir botões Tab e Apagar
                if (key === 'Backspace' || key === 'Tab') {
                    return;
                }

                // BLOQUEAR digitar se já estiver completo o formato de salário
                // REGEX: essa expressão verifica se o valor digitado termina com uma virgula (ou ponto) e duas casas decimais
                // Se quiser entender mais, pergunte ao ChatGPT "Me explique o REGEX /[,.]\d{2}$/g"
                if (/[,.]\d{2}$/g.test(currentValue)) {
                    e.preventDefault();
                    return;
                }

                // Permitir uma virgula ou ponto se não já estiver presente
                if (key === ',' || key === '.') {
                    const temPonto = currentValue.includes('.');
                    const temVirgula = currentValue.includes(',');
                    if (!temPonto && !temVirgula) {
                        return;
                    }
                }

                // Permitir números
                if (!isNaN(key)) {
                    return;
                }

                e.preventDefault();
            }
            document
                .getElementById('salario')
                .addEventListener('keypress', permitirKeyPressApenasMoeda);
        </script>
    </body>
</html>
